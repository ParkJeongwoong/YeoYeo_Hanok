(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[833],{5822:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reservation",function(){return n(1347)}])},4521:function(e,t,n){"use strict";var a=n(1309),r=n(5893),s=n(7294),c=n(4184),i=n.n(c),l=n(3279),o=n.n(l);t.Z=function(e){var t=e.title,n=e.regEx,c=e.placeholder,l=e.inputValue,d=e.setInputValue,u=e.disabled,h=e.errorText,m=e.classnames,x=e.maxLength,p=e.autoRegEx,v=e.type,f=(0,a._)((0,s.useState)(!1),2),j=f[0],g=f[1],b=function(e){n&&g(!n.test(e))},k=function(e){var t=e.target.value;p&&(t=p(t)),d(t),o()(function(){b(t)},500)()};return(0,r.jsxs)("div",{className:i()("input-wrap",m),children:[t&&(0,r.jsx)("span",{className:i()("input-title"),children:t}),(0,r.jsx)("input",{type:v,disabled:u,value:l,onChange:function(e){return k(e)},placeholder:c,className:i()(j&&"error"),maxLength:x}),j&&(0,r.jsx)("span",{className:i()("error-text"),children:h})]})}},1347:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var a=n(1309),r=n(5893),s=n(7294),c=n(4184),i=n.n(c),l=n(4586),o=n(7484),d=n.n(o),u=n(6154),h=n(8544),m=n(8583),x=n(2588),p=(0,n(5103).cn)(!1),v=function(e){var t=e.setSelectedRoom,n=e.setIsModal,a=e.handleCellClick,c=(0,m.b9)(p),l=function(e){"Escape"===e.key&&(c(!1),n(!1))};return(0,s.useEffect)(function(){return document.addEventListener("keydown",l),function(){return document.removeEventListener("keydown",l)}}),(0,r.jsx)("div",{className:i()("room-select-modal-mask"),onClick:function(e){e.stopPropagation(),c(!1)},"aria-hidden":!0,children:(0,r.jsxs)("div",{className:i()("room-select-modal"),children:[(0,r.jsx)("strong",{children:"방을 선택해주세요"}),(0,r.jsxs)("div",{className:i()("room-select"),children:[(0,r.jsx)("button",{type:"button",className:i()("room-button"),onClick:function(){t("여유"),c(!1),n(!1),a()},children:"여유"}),(0,r.jsx)("button",{type:"button",className:i()("room-button"),onClick:function(){t("여행"),c(!1),n(!1),a()},children:"여행"})]})]})})},f=function(e){var t=e.day,n=e.data,c=e.cellData,l=e.handleDateClick,o=e.startDate,u=e.endDate,h=e.checkoutDate,f=e.setCheckoutDate,j=e.currentDate,g=e.selectedRoom,b=e.setSelectedRoom,k=(0,a._)((0,s.useState)(!1),2),N=k[0],y=k[1],S=(0,a._)((0,m.KO)(p),2),D=S[0],_=S[1],C=d()(j).set("date",t),w=d()()<C&&o&&C<o,P=u&&C>u,E=null!==h&&h.isBefore(C,"date"),R=(0,x.$G)("common").t,M=function(){if(console.log("현재startDate",o,"현재CheckoutDate",h),(null!==o||!c||"여유"!==g||1!==c[0].reservationState&&c[0].reservable)&&(null!==o||!c||"여행"!==g||1!==c[1].reservationState&&c[1].reservable)&&(null!==o||!c||1!==c[0].reservationState&&c[0].reservable||1!==c[1].reservationState&&c[1].reservable)&&!w&&!P&&!E){if(0===c[0].reservationState&&0===c[1].reservationState&&!P&&!w&&!D&&!N&&null===g){_(!0),y(!0);return}d()()>d()(j).set("date",t)||(1!==c[0].reservationState&&c[0].reservable||0!==c[1].reservationState?0!==c[0].reservationState||1!==c[1].reservationState&&c[1].reservable?(null===o||1!==c[0].reservationState&&c[0].reservable||1!==c[1].reservationState&&c[1].reservable,l(t,j)):(l(t,j),"여행"!==g&&b("여유")):(l(t,j),"여유"!==g&&b("여행")))}};(0,s.useEffect)(function(){D||y(!1)},[D]),(0,s.useEffect)(function(){if(n&&o&&null!==g){var e=n.findIndex(function(e){return e.date===o.format("YYYY-MM-DD")}),t="여유"===g?0:1;if(-1!==e&&!h){for(var a=e;a<n.length;a+=1)if(n[a].rooms[t].reservationState){f(d()(n[a].date));break}}}else f(null)},[o,h]);var Z=d()()>d()(j).set("date",t);return(0,r.jsxs)("td",{onClick:Z?function(e){return e.preventDefault()}:function(){return M()},"aria-hidden":"true",className:i()((C.isSame(o)||C.isSame(u))&&"selected",o&&o<C&&u&&u>C&&"between-day",Z&&"passed-date",N&&"room-selecting",w&&"passed-date",P&&"passed-date",c&&(1===c[0].reservationState||!c[0].reservable)&&(1===c[1].reservationState||!c[1].reservable)&&"notAvailable",(c&&"여유"===g&&(1===c[0].reservationState||!c[0].reservable)||c&&"여행"===g&&(1===c[1].reservationState||!c[1].reservable))&&!Z&&!w&&!P&&"checkout-only one-day-selected",o&&!C.isSame(h,"date")&&(c&&"여유"===g&&(1===c[0].reservationState||!c[0].reservable)||c&&"여행"===g&&(1===c[1].reservationState||!c[1].reservable))&&c&&(1===c[0].reservationState||!c[0].reservable)&&(1===c[1].reservationState||!c[1].reservable)&&!Z&&!w&&!P&&"passed-date",E&&"passed-date"),children:[(0,r.jsx)("div",{className:i()("day"),children:t}),(0,r.jsx)("span",{className:i()("tooltip-text-a"),children:R("reservation.checkoutOnly")}),(0,r.jsx)("span",{className:i()("tooltip-text-b"),children:R("reservation.notAvailable")}),c&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("ul",{className:i()("room-list"),children:[!Z&&("여유"===g||null===g)&&(0,r.jsxs)("li",{className:i()("room-item",0===c[0].reservationState&&"available"),children:[(0,r.jsx)("strong",{className:i()("room-name"),children:"여유"}),(0,r.jsx)("span",{className:i()("price"),children:c[0].price/1e4})]}),0===c[1].reservationState&&!Z&&("여행"===g||null===g)&&(0,r.jsxs)("li",{className:i()("room-item",0===c[1].reservationState&&"available"),children:[(0,r.jsx)("strong",{className:i()("room-name"),children:"여행"}),(0,r.jsx)("span",{className:i()("price"),children:c[1].price/1e4})]})]})}),N&&(0,r.jsx)(v,{setSelectedRoom:b,setIsModal:y,handleCellClick:M})]},t)},j=function(e){var t=e.startDate,n=e.endDate,a=e.checkoutDate,s=e.setCheckoutDate,c=e.currentDate,l=e.handleDateClick,o=e.data,d=e.twoMonthsData,u=e.selectedRoom,h=e.setSelectedRoom;return(0,r.jsxs)("div",{className:i()("calendar-item"),children:[(0,r.jsxs)("span",{className:i()("month-year"),children:[["January","February","March","April","May","June","July","August","September","October","November","December"][c.get("month")]," ",c.get("year")]}),(0,r.jsxs)("table",{className:i()("calendar"),children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){return(0,r.jsx)("th",{children:e},e)})})}),(0,r.jsx)("tbody",{children:o&&Array.from({length:6},function(e,m){return(0,r.jsx)("tr",{children:Array.from({length:7},function(e,x){var p,v,j,g,b=7*m+x+1-(p=c.get("M"),v=c.get("year"),new Date(v,p,1).getDay());return b>0&&b<=(j=c.get("M"),g=c.get("year"),new Date(g,j+1,0).getDate())?(0,r.jsx)(f,{day:b,data:d,cellData:o[b-1]&&o[b-1].rooms,handleDateClick:l,startDate:t,endDate:n,checkoutDate:a,currentDate:c,selectedRoom:u,setSelectedRoom:h,setCheckoutDate:s},c.toString()+b):(0,r.jsx)("td",{className:i()("no-date")},x)})},m)})})]})]})},g=function(e){var t=e.startDate,n=e.setStartDate,c=e.endDate,o=e.setEndDate,m=e.setPeriodData,x=e.checkoutDate,p=e.setCheckoutDate,v=e.selectedRoom,f=e.setSelectedRoom,g=e.translation,b=(0,a._)((0,s.useState)(d()().set("date",1)),2),k=b[0],N=b[1],y=(0,a._)((0,s.useState)(d()(k).add(1,"month")),2),S=y[0],D=y[1],_=(0,a._)((0,s.useState)({}),2),C=_[0],w=_[1],P=(0,a._)((0,s.useState)(),2),E=P[0],R=P[1],M=(0,h.Z)("desktop"),Z=function(){k<d()().set("date",1)||N(function(e){return d()(e).add(-1,"month").set("date",1)})};(0,s.useEffect)(function(){D(d()(k).add(1,"month"))},[k]),(0,s.useEffect)(function(){(0,u.Z)({method:"get",url:"/dateroom/".concat(k.get("year"),"/").concat(k.get("month")+1)}).then(function(e){R((0,l._)(e.data.month).concat((0,l._)(e.data.nextMonth))),w(e.data)})},[k]),(0,s.useEffect)(function(){t&&c&&(0,u.Z)({method:"get",url:"/dateroom/price/".concat(null!==v&&"여유"===v?1:2,"/").concat(t.format("YYYYMMDD"),"/").concat(c.format("YYYYMMDD"))}).then(function(e){return m(e.data)})},[t,c,m,v]);var Y=function(){n(null),o(null),f(null)},I=function(e,a){var r=d()(a).set("date",e);if(null==t?void 0:t.isSame(r)){Y();return}if(null==c?void 0:c.isSame(r)){o(null);return}null===t?n(r):o(r)};return(0,r.jsxs)("div",{className:i()("date-picker-wrap"),children:[(0,r.jsx)("button",{type:"button",onClick:function(){return Y()},className:i()("init-button"),children:g("datePicker.reset")}),(0,r.jsxs)("div",{className:i()("calendar-header"),children:[(0,r.jsx)("button",{type:"button",onClick:function(){return Z()},children:g("datePicker.prev")}),(0,r.jsx)("button",{type:"button",onClick:function(){return N(function(e){return d()(e).add(1,"month").set("date",1)})},children:g("datePicker.next")})]}),(0,r.jsxs)("div",{className:i()("calender-wrap"),children:[(0,r.jsx)(j,{startDate:t,endDate:c,checkoutDate:x,setStartDate:n,setEndDate:o,setCheckoutDate:p,data:null==C?void 0:C.month,twoMonthsData:E,currentDate:k,handleDateClick:I,selectedRoom:v,setSelectedRoom:f}),M&&(0,r.jsx)(j,{startDate:t,endDate:c,checkoutDate:x,setStartDate:n,setEndDate:o,setCheckoutDate:p,data:null==C?void 0:C.nextMonth,twoMonthsData:E,currentDate:S,handleDateClick:I,selectedRoom:v,setSelectedRoom:f})]}),(0,r.jsxs)("div",{className:i()("input-wrap"),children:[(0,r.jsx)("input",{type:"text",value:(null==t?void 0:t.format("YYYY-MM-DD"))||"",placeholder:"Start Date",onChange:function(){return null}}),(0,r.jsx)("input",{type:"text",value:(null==c?void 0:c.format("YYYY-MM-DD"))||"",placeholder:"End Date",onChange:function(){return null}})]})]})},b=n(4521),k=function(e){var t=e.title,n=e.children;return(0,r.jsxs)("div",{className:i()("input-wrap"),children:[(0,r.jsx)("span",{className:i()("input-title"),children:t}),n]})},N=function(e){var t=e.peopleNumber,n=e.setPeopleNumber,a=function(e){"increase"===e?t+1<4&&n(function(e){return e+1}):"decrease"===e&&n(function(e){return e-1})};return(0,r.jsxs)("div",{className:i()("people-number-input-wrap"),children:[(0,r.jsx)("button",{type:"button",className:i()("calc-button"),disabled:t<2,onClick:function(){return a("decrease")},children:"-"}),(0,r.jsx)("input",{type:"text",value:t,readOnly:!0}),(0,r.jsx)("button",{type:"button",className:i()("calc-button"),disabled:t>2,onClick:function(){return a("increase")},children:"+"})]})},y=n(1238),S=function(e){var t=e.setAuthResultMsg,n=e.isAuthorized,c=e.setIsTimeOut,i=(0,a._)((0,s.useState)(180),2),l=i[0],o=i[1],u=d()().add(181,"second"),h=(0,a._)((0,s.useState)(3),2),m=h[0],x=h[1],p=(0,a._)((0,s.useState)(0),2),v=p[0],f=p[1],j=function(e){var t=e.diff(d()());t>=0&&(o(function(){return Math.floor(t/1e3)}),x(function(){return Math.floor(t/1e3/60%60)}),f(function(){return Math.floor(t/1e3%60)}))};return(0,s.useEffect)(function(){n||0!==l||(c(!0),t("인증시간이 만료되었습니다."))},[l]),(0,s.useEffect)(function(){if(l>=0){var e=setInterval(function(){return j(u)},1e3);return function(){return clearInterval(e)}}},[]),(0,r.jsxs)("span",{style:{},children:["0".concat(m)," : ",v<10?"0".concat(v):v]})},D=function(e){var t=e.username,n=e.setUsername,c=e.userMobileNumber,l=e.setUserMobileNumber,o=e.email,d=e.setEmail,h=e.peopleNumber,m=e.setPeopleNumber,x=e.requestedTerm,p=e.setRequestedTerm,v=e.setCanReserve,f=e.translation,j=(0,a._)((0,s.useState)(""),2),g=j[0],D=j[1],_=(0,a._)((0,s.useState)(""),2),C=_[0],w=_[1],P=(0,a._)((0,s.useState)(!1),2),E=P[0],R=P[1],M=(0,a._)((0,s.useState)(!1),2),Z=M[0],Y=M[1],I=(0,a._)((0,s.useState)(!1),2),L=I[0],A=I[1],$=function(e){p(e.target.value)},T=function(e){D(e.target.value)},O=function(e){return e.length>8?e.replace(/[^0-9]/g,"").replace(/^(\d{3})(\d{4})(\d{1,4})$/,"$1-$2-$3"):e.length>3?e.replace(/[^0-9]/g,"").replace(/^(\d{3})(\d{1,4})$/,"$1-$2"):e.replace(/[^0-9]/g,"").replace(/^(\d{3})(\d{1,4})(\d{4})$/,"$1-$2-$3")};return(0,s.useEffect)(function(){y.CI.test(t)&&y.i9.test(c)&&y.u$.test(o)&&E&&v(!0)},[t,c,o,E,v]),(0,r.jsxs)("div",{className:i()("customer-form-wrap"),children:[(0,r.jsx)(b.Z,{title:f("form.name"),regEx:y.CI,placeholder:"이름을 입력해주세요",inputValue:t,setInputValue:n,errorText:"영문이나 한글로만 작성해주세요."}),(0,r.jsx)(b.Z,{title:f("form.email"),regEx:y.u$,placeholder:"이메일을 입력해주세요",inputValue:o,setInputValue:d,errorText:"올바른 이메일 양식으로 작성해주세요.",type:"email"}),(0,r.jsx)(k,{title:f("form.contact"),children:L?(0,r.jsxs)("div",{className:i()("mobile-input-wrap"),children:[(0,r.jsx)(b.Z,{title:"",regEx:y.i9,placeholder:"",inputValue:c,setInputValue:l,autoRegEx:O,errorText:"",classnames:"user-mobile-input disabled",disabled:!0}),(0,r.jsxs)("div",{className:i()("user-auth-number-wrap"),children:[(0,r.jsx)("input",{disabled:E,value:g,onChange:function(e){return T(e)},placeholder:"인증번호",maxLength:6,type:"number"}),!E&&(0,r.jsx)(S,{setAuthResultMsg:w,isAuthorized:E,setIsTimeOut:Y})]}),(0,r.jsx)("button",{disabled:E||Z||0===g.length,type:"button",className:i()("certification-check-button"),onClick:function(){A(!0),u.Z.get("/reservation/validation/authKey/".concat(c,"/").concat(g)).then(function(e){e.data?(R(!0),w("인증이 성공적으로 완료되었습니다."),document.getElementsByClassName("certification-result-msg")[0].classList.add("success")):!1===e.data&&(w("인증번호가 올바르지 않습니다."),document.getElementsByClassName("certification-result-msg")[0].classList.add("error"))}).catch(function(e){console.log("인증번호에러",e),w("인증도중 오류가 발생했습니다. 잠시후 다시 시도해주세요.")})},children:f("form.validateCode")}),(0,r.jsx)("div",{className:i()("certification-result-msg"),children:(0,r.jsx)("span",{children:C})})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)(b.Z,{title:"",regEx:y.i9,placeholder:"000-0000-0000",inputValue:c,setInputValue:l,autoRegEx:O,errorText:"번호가 올바르지 않습니다. 000-0000-0000 형식으로 작성해주세요.",classnames:"user-mobile-input",maxLength:13,type:"tel"}),(0,r.jsx)("button",{type:"button",className:i()("certification-button"),onClick:function(){A(!0),u.Z.get("/reservation/sms/authKey/".concat(c)).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},disabled:!y.i9.test(c),children:f("form.requestCode")})]})}),(0,r.jsx)(k,{title:f("form.count"),children:(0,r.jsx)(N,{peopleNumber:h,setPeopleNumber:m})}),(0,r.jsx)(k,{title:f("form.request"),children:(0,r.jsxs)("div",{className:i()("text-area-wrap"),children:[(0,r.jsx)("textarea",{cols:5,rows:4,maxLength:200,placeholder:"요청사항을 적어주세요. (최대 200자)",className:i()("input-text-area"),value:x,onChange:function(e){return $(e)},wrap:"on"}),(0,r.jsxs)("span",{className:i()("text-count"),children:[x.length,"/200"]})]})})]})},_=n(2839);n(9132);var C=function(e){var t=e.left,n=e.middle,a=e.right,s=e.isLast;return(0,r.jsxs)("div",{className:i()("reservation-info",n&&"has-middle"),children:[(0,r.jsx)("span",{children:t}),n&&(0,r.jsx)("span",{children:n}),(0,r.jsx)("span",{style:{fontWeight:s?700:600,fontSize:s?"16px":"14px"},children:a})]})},w=function(e){var t,n,a,s,c,l,o=e.startDate,u=e.endDate,h=e.periodData,m=e.peopleNumber,x=e.onClickPayment,p=e.selectedRoom,v=e.translation;d().locale("ko");var f=d()(o).format("YYYY년 MM월 DD일(ddd)"),j=d()(u).format("YYYY년 MM월 DD일(ddd)");return(0,r.jsxs)("div",{className:i()("reservation-sidebar-wrap"),children:[(0,r.jsxs)("strong",{style:{fontSize:24,fontWeight:600},children:["한옥스테이 여여 - 「",p,"」"]}),(0,r.jsx)(k,{title:v("sidebar.date"),children:(0,r.jsxs)("div",{className:i()("reservation-info-box"),children:[(0,r.jsx)(C,{left:v("sidebar.checkIn"),right:f}),(0,r.jsx)(C,{left:v("sidebar.checkOut"),right:j}),(0,r.jsx)("div",{className:i()("border-line")}),(0,r.jsx)(C,{left:v("sidebar.period"),right:"en"===_.ZP.language?"".concat(h.period," night").concat(h.period>1?"s":""," ").concat(h.period+1," days"):"".concat(h.period,"박 ").concat(h.period+1,"일"),isLast:!0})]})}),(0,r.jsx)(k,{title:v("sidebar.price"),children:(0,r.jsxs)("div",{className:i()("reservation-info-box"),children:[(0,r.jsx)(C,{left:v("sidebar.regularPrice"),middle:"".concat(null===(t=h.originalPrice)||void 0===t?void 0:t.toLocaleString()).concat("en"===_.ZP.language?" Won":"원"),right:"+ ".concat(null===(n=h.originalPrice)||void 0===n?void 0:n.toLocaleString()).concat("en"===_.ZP.language?" Won":"원")}),m>2&&(0,r.jsx)(C,{left:v("sidebar.additionalCharge"),middle:"30,000".concat("en"===_.ZP.language?" Won":"원"," * ").concat(null===(a=h.period)||void 0===a?void 0:a.toLocaleString()),right:"+ ".concat((3e4*h.period).toLocaleString()).concat("en"===_.ZP.language?" Won":"원")}),(0,r.jsx)(C,{left:v("sidebar.discount"),middle:"".concat(h.period>=2?"20,000".concat("en"===_.ZP.language?" Won":"원"," * ").concat((h.period-1).toLocaleString()):"-"),right:"".concat(h.period>=2?"- ".concat(null===(s=h.discountedPrice)||void 0===s?void 0:s.toLocaleString()).concat("en"===_.ZP.language?" Won":"원"):"-")}),(0,r.jsx)("div",{className:i()("border-line")}),(0,r.jsx)(C,{left:v("sidebar.totalPrice"),right:m>2?"".concat(null===(c=h.totalPrice+3e4*h.period)||void 0===c?void 0:c.toLocaleString()).concat("en"===_.ZP.language?" Won":"원"):"".concat(null===(l=h.totalPrice)||void 0===l?void 0:l.toLocaleString()).concat("en"===_.ZP.language?" Won":"원"),isLast:!0})]})}),(0,r.jsx)("button",{type:"button",className:i()("reservation-button"),onClick:function(){return x()},children:v("sidebar.reserve")})]})},P=n(1163),E=n(567),R=n(4932),M=n(5675),Z=n.n(M),Y=n(4544),I=n.n(Y),L=function(e){var t=e.setAgreementCompleted,n=function(e){var t,n=e.current;u!==e&&(null==u||null===(t=u.current)||void 0===t||t.style.removeProperty("max-height")),!n||(null==n?void 0:n.style.maxHeight)?null==n||n.style.removeProperty("max-height"):(n.style.maxHeight="".concat(n.scrollHeight,"px"),h(e))},c="/assets/icons/ico_chevrondown2.svg",l=(0,s.useRef)(null),o=(0,s.useRef)(null),d=(0,a._)((0,s.useState)(null),2),u=d[0],h=d[1],m=(0,a._)((0,s.useState)({numberOfPeople:!1,smoking:!1,reimbursement:!1,cooking:!1,refund:!1,personalInfo:!1,eventAlarm:!1}),2),x=m[0],p=m[1];return(0,s.useEffect)(function(){var e=x.numberOfPeople,n=x.smoking,a=x.reimbursement,r=x.cooking,s=x.refund,c=x.personalInfo;e&&n&&a&&r&&s&&c?t(!0):t(!1)},[x,t]),(0,r.jsxs)("div",{className:i()("agreement-form-wrap"),children:[(0,r.jsxs)("div",{className:i()("agreement-wrap"),children:[(0,r.jsxs)("div",{className:i()("agreement-section"),children:[(0,r.jsx)("div",{className:i()("agreement-title"),children:(0,r.jsx)("button",{type:"button",children:(0,r.jsx)("span",{children:"▪️ 동의사항"})})}),(0,r.jsx)("div",{className:i()("agreement-content-wrap show-content"),children:(0,r.jsx)("div",{className:i()("agreement-content"),children:(0,r.jsx)("div",{className:i()("agreement"),children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{style:{display:"flex",justifyContent:"space-between"},children:["인원 규정 : 예약 인원 초과 입실 및 방문자 출입은 불가합니다. 위반시 환불 없이 퇴실 조치"," ",(0,r.jsx)("div",{className:i()("agree-checkbox"),children:(0,r.jsxs)("div",{className:"check",children:[(0,r.jsx)("input",{type:"checkbox",id:"check1",checked:x.numberOfPeople,onChange:function(e){var t=e.target.checked;p(function(e){return(0,R._)((0,E._)({},e),{numberOfPeople:t})})}}),(0,r.jsx)("label",{htmlFor:"check1",children:"동의(필수)"})]})})]}),(0,r.jsxs)("li",{children:["금연 안내 : 숙소 내 모든 구역에서는 전자담배 포함 절대 금연. 위반 시 환불 없이 즉각 퇴실 조치 및 청소비 청구",(0,r.jsx)("div",{className:i()("agree-checkbox"),children:(0,r.jsxs)("div",{className:"check",children:[(0,r.jsx)("input",{type:"checkbox",id:"check2",checked:x.smoking,onChange:function(e){var t=e.target.checked;p(function(e){return(0,R._)((0,E._)({},e),{smoking:t})})}}),(0,r.jsx)("label",{htmlFor:"check2",children:"동의(필수)"})]})})]}),(0,r.jsxs)("li",{children:["변상 안내 : 숙소 내 기물 파손 및 침구 오염 등이 발생할 경우 배상비용이 청구",(0,r.jsx)("div",{className:i()("agree-checkbox"),children:(0,r.jsxs)("div",{className:"check",children:[(0,r.jsx)("input",{type:"checkbox",id:"check3",checked:x.reimbursement,onChange:function(e){var t=e.target.checked;p(function(e){return(0,R._)((0,E._)({},e),{reimbursement:t})})}}),(0,r.jsx)("label",{htmlFor:"check3",children:"동의(필수)"})]})})]}),(0,r.jsxs)("li",{children:["취사 규정 : 화기를 사용한 취사가 불가능한 숙소이며, 냄새가 나는 음식(고기, 생선, 해산물 등)의 섭취를 금지",(0,r.jsx)("div",{className:i()("agree-checkbox"),children:(0,r.jsxs)("div",{className:"check",children:[(0,r.jsx)("input",{type:"checkbox",id:"check4",checked:x.cooking,onChange:function(e){var t=e.target.checked;p(function(e){return(0,R._)((0,E._)({},e),{cooking:t})})}}),(0,r.jsx)("label",{htmlFor:"check4",children:"동의(필수)"})]})})]}),(0,r.jsxs)("li",{children:["환불 규정 : 안내된 환불 규정에 동의합니다.",(0,r.jsx)("div",{className:i()("agree-checkbox"),children:(0,r.jsxs)("div",{className:"check",children:[(0,r.jsx)("input",{type:"checkbox",id:"check5",checked:x.refund,onChange:function(e){var t=e.target.checked;p(function(e){return(0,R._)((0,E._)({},e),{refund:t})})}}),(0,r.jsx)("label",{htmlFor:"check5",children:"동의(필수)"})]})})]})]})})})})]}),(0,r.jsxs)("div",{className:i()("agreement-section"),children:[(0,r.jsxs)("div",{className:i()("agreement-title"),children:[(0,r.jsx)("button",{type:"button",children:(0,r.jsx)("span",{children:"▪️ 개인정보 수집 및 이용 동의(필수)"})}),(0,r.jsx)("div",{className:i()("agree-checkbox"),children:(0,r.jsxs)("div",{className:"check",children:[(0,r.jsx)("input",{type:"checkbox",id:"check6",checked:x.personalInfo,onChange:function(e){var t=e.target.checked;p(function(e){return(0,R._)((0,E._)({},e),{personalInfo:t})})}}),(0,r.jsx)("label",{htmlFor:"check6",children:"동의(필수)"})]})})]}),(0,r.jsx)("div",{className:i()("agreement-content-wrap")}),(0,r.jsx)("div",{className:i()("btn-wrap"),children:(0,r.jsxs)("button",{type:"button","aria-label":"menu close",onClick:function(){return n(l)},children:[(0,r.jsx)("span",{children:"자세히보기"}),(0,r.jsx)(Z(),{loader:I(),src:c,width:13.33,height:13.33,alt:"약관 열기"})]})}),(0,r.jsx)("div",{className:i()("agreement-content-wrap border-none"),ref:l,children:(0,r.jsx)("div",{className:i()("agreement-content"),children:(0,r.jsx)("div",{className:i()("personal-info"),children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"1. 수집항목 : [필수] 이름, 연락처, 이메일주소, 인원정보"}),(0,r.jsx)("li",{children:"2. 수집 및 이용목적 : 사업자회원과 예약이용자의 원활한 거래 진행, 고객상담, 불만처리 등 민원 처리, 분쟁조정 해결을 위한 기록보존, 스테이폴리오 멤버십 및 프로모션, 이벤트 안내"}),(0,r.jsx)("li",{children:"3. 보관기간 : 회원탈퇴 등 개인정보 이용목적 달성 시까지 보관. 단, 상법 및 ‘전자상거래 등에서의 소비자 보호에 관한 법률’ 등 관련 법령에 의하여 일정 기간 보관이 필요한 경우에는 해당 기간 동안 보관함"}),(0,r.jsx)("li",{children:"4. 동의 거부권 등에 대한 고지 : 정보주체는 개인정보의 수집 및 이용 동의를 거부할 권리가 있으나, 이 경우 상품 및 서비스 예약이 제한될 수 있습니다."})]})})})})]}),(0,r.jsxs)("div",{className:i()("agreement-section"),children:[(0,r.jsxs)("div",{className:i()("agreement-title"),children:[(0,r.jsx)("button",{type:"button",children:(0,r.jsx)("span",{children:"▪️ 쿠폰, 이벤트 등 혜택 알림 동의(선택)"})}),(0,r.jsx)("div",{className:i()("agree-checkbox"),children:(0,r.jsxs)("div",{className:"check",children:[(0,r.jsx)("input",{type:"checkbox",id:"check7",checked:x.eventAlarm,onChange:function(e){var t=e.target.checked;p(function(e){return(0,R._)((0,E._)({},e),{eventAlarm:t})})}}),(0,r.jsx)("label",{htmlFor:"check7",children:"동의(선택)"})]})})]}),(0,r.jsx)("div",{className:i()("agreement-content-wrap")}),(0,r.jsx)("div",{className:i()("btn-wrap"),children:(0,r.jsxs)("button",{type:"button","aria-label":"menu close",onClick:function(){return n(o)},children:[(0,r.jsx)("span",{children:"자세히보기"}),(0,r.jsx)(Z(),{loader:I(),src:c,width:13.33,height:13.33,alt:"약관 열기"})]})}),(0,r.jsx)("div",{className:i()("agreement-content-wrap border-none"),ref:o,children:(0,r.jsx)("div",{className:i()("agreement-content"),children:(0,r.jsx)("div",{className:i()("event-alarm"),children:(0,r.jsx)("ul",{children:(0,r.jsx)("li",{children:"한옥스테이 여여의 혜택 및 프로모션, 이벤트 소식 구독"})})})})})]})]}),(0,r.jsxs)("div",{className:i()("refund-policy-wrap"),children:[(0,r.jsx)("span",{className:i()("title"),children:"▪️ 환불규정안내"}),(0,r.jsx)("div",{className:i()("content-wrap"),children:(0,r.jsx)("div",{className:i()("content"),children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"10일 전 : 결제 금액의 100% 환불"}),(0,r.jsx)("li",{children:"9일 전 : 결제 금액의 90% 환불"}),(0,r.jsx)("li",{children:"8일 전 : 결제 금액의 80% 환불"}),(0,r.jsx)("li",{children:"7일 전 : 결제 금액의 70% 환불"}),(0,r.jsx)("li",{children:"6일 전 : 결제 금액의 60% 환불"}),(0,r.jsx)("li",{children:"5일 전 : 결제 금액의 50% 환불"}),(0,r.jsx)("li",{children:"4일 전 : 결제 금액의 40% 환불"}),(0,r.jsx)("li",{children:"3일 전 : 결제 금액의 30% 환불"}),(0,r.jsx)("li",{children:"2일 전 : 결제 금액의 20% 환불"}),(0,r.jsx)("li",{children:"1일 전 : 결제 금액의 10% 환불"}),(0,r.jsx)("li",{children:"당일 : 환불 불가"})]})})})]})]})},A=n(6167),$=function(e){var t=e.fadeState,n=function(e){(0,u.Z)({method:"post",url:"/payment/pay",data:{imp_uid:e.imp_uid,merchant_uid:e.merchant_uid}}).then(function(){alert("예약이 완료되었습니다."),z.push("/reservation/success/".concat(e.merchant_uid))}).catch(function(){return console.log("서버 전송 결과에 문제가 있습니다.")})},c=function(e){try{var t=window.IMP;t.init("imp28607423");var a={pg:"tosspayments",merchant_uid:e,name:"한옥스테이 여여 - ".concat(h),pay_method:"card",escrow:!1,amount:M>2?en.totalPrice+3e4*en.period:en.totalPrice,buyer_name:j,buyer_email:C,buyer_tel:N,currency:"KRW",locale:_.ZP.language,m_redirect_url:"https://yeoyeo.co.kr/reservation/success/".concat(e),confirm_url:"https://api.yeoyeo.co.kr/payment/confirm",bypass:{tosspayments:{useInternationalCardOnly:"en"===_.ZP.language}}};t.request_pay(a,n)}catch(e){console.log("error error",e)}},l=function(){var e=[];en.infoDtoList.map(function(t){return e.push(t.dateRoomId)}),(0,u.Z)({method:"post",url:"/reservation/reserve",data:{dateRoomIdList:e,email:C,guestCount:M,name:j,phoneNumber:N,request:I}}).then(function(e){console.log("reservation/reserve complete",e),c(e.data.resultId)}).catch(function(e){return console.log("err",e)})},o=function(){O&&V?l():alert("예약폼완성 및 동의사항을 체크해주세요.")},d=(0,a._)((0,s.useState)(null),2),h=d[0],v=d[1],f=(0,a._)((0,s.useState)(""),2),j=f[0],b=f[1],k=(0,a._)((0,s.useState)(""),2),N=k[0],y=k[1],S=(0,a._)((0,s.useState)(""),2),C=S[0],E=S[1],R=(0,a._)((0,s.useState)(2),2),M=R[0],Z=R[1],Y=(0,a._)((0,s.useState)(""),2),I=Y[0],$=Y[1],T=(0,a._)((0,s.useState)(!1),2),O=T[0],F=T[1],W=(0,a._)((0,s.useState)(!1),2),V=W[0],q=W[1],z=(0,P.useRouter)(),K=(0,a._)((0,s.useState)(null),2),B=K[0],U=K[1],H=(0,a._)((0,s.useState)(null),2),J=H[0],G=H[1],X=(0,a._)((0,s.useState)(null),2),Q=X[0],ee=X[1],et=(0,a._)((0,s.useState)({}),2),en=et[0],ea=et[1],er=(0,a._)((0,m.KO)(p),2),es=er[0],ec=er[1],ei=(0,s.useRef)(null),el=(0,x.$G)("reservation").t;return(0,s.useEffect)(function(){var e,t=null===(e=ei.current)||void 0===e?void 0:e.getBoundingClientRect().top;en&&window.scrollTo({top:t-73,behavior:"smooth"})},[en]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{title:"예약",description:"한옥스테이 여여의 실시간 예약 페이지입니다.",siteTitle:"한옥스테이 여여"}),(0,r.jsxs)("div",{className:i()("reservation-wrap ".concat(t)),children:[(0,r.jsxs)("div",{className:i()("reservation-inner"),children:[(0,r.jsx)("h2",{className:i()("title"),children:"Reservation"}),(0,r.jsx)(g,{startDate:B,endDate:J,checkoutDate:Q,setCheckoutDate:ee,setStartDate:U,setEndDate:G,setPeriodData:ea,selectedRoom:h,setSelectedRoom:v,translation:el}),B&&J&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:ei,className:i()("reservation-form-wrap"),children:[(0,r.jsx)(D,{username:j,setUsername:b,userMobileNumber:N,setUserMobileNumber:y,email:C,setEmail:E,peopleNumber:M,setPeopleNumber:Z,requestedTerm:I,setRequestedTerm:$,setCanReserve:F,translation:el}),(0,r.jsx)(w,{startDate:B,endDate:J,periodData:en,peopleNumber:M,onClickPayment:function(){return o()},selectedRoom:h,translation:el})]}),(0,r.jsx)(L,{setAgreementCompleted:q})]})]}),es&&(0,r.jsx)("div",{tabIndex:0,role:"button",className:i()("modal-mask"),onClick:function(){return ec(!1)},onKeyDown:function(){},"aria-label":"close modal"})]})]})}},1238:function(e,t,n){"use strict";n.d(t,{CI:function(){return r},d_:function(){return c},i9:function(){return s},u$:function(){return a}});var a=RegExp("^[a-zA-Z0-9._:$!%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]$"),r=RegExp("^[A-Za-zㄱ-ㅎㅏ-ㅣ가-힣]*$"),s=/[0-9]{3}-[0-9]{4}-[0-9]{4}/;RegExp("^[0-9]{6}");var c=RegExp("^[0-9]{13}")},6167:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(5893),r=n(9008),s=n.n(r);function c(e){var t=e.title,n=e.description,r=e.siteTitle;return(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:"".concat(t," | ").concat(r)}),(0,a.jsx)("meta",{name:"description",content:n}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:title",content:t}),(0,a.jsx)("meta",{property:"og:description",content:n}),(0,a.jsx)("meta",{property:"og:site_name",content:r})]})}}},function(e){e.O(0,[225,774,888,179],function(){return e(e.s=5822)}),_N_E=e.O()}]);